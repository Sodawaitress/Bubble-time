<!doctype html><html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'><title>{{ title or "Calendar" }}</title><link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/modern-normalize@2/modern-normalize.min.css'><link rel='stylesheet' href='{{ url_for('static', filename='css/style.css') }}'>{% block head %}{% endblock %}</head><body><header class='topbar'><div class='brand'><a href='/'>bw-calendar</a></div><nav class='nav'>{% if session.get('user') %}<span class='muted'>Hi, {{ session.get('user',{}).get('email','') }}</span><a href='/settings'>设置</a><form action='/logout' method='post' style='display:inline'><button class='linklike'>登出</button></form>{% else %}<a href='/login'>登录</a><a href='/register'>注册</a>{% endif %}</nav></header><main class='container'>{% with msgs = get_flashed_messages() %}{% if msgs %}<ul class='flashlist'>{% for m in msgs %}<li>{{ m }}</li>{% endfor %}</ul>{% endif %}{% endwith %}{% block content %}{% endblock %}</main></body></html>